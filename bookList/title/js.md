# js性能分析

**1.垃圾回收机制**

> 64位操作系统默认使用1.4G，32位操作系统默认使用0.7G

  V8之所以限制了内存的大小，表面上的原因是V8最初是作为浏览器的JavaScript引擎而设计，不太可能遇到大量内存的场景，而深层次的原因则是由于V8的垃圾回收机制的限制。

> 根据官方说法，对于1.5G的垃圾回收堆内存，V8做一次小的垃圾回收需要50ms，做一次非增量式的垃圾回收在1s以上（小垃圾回收和非增量都是垃圾回收策略，后续后讲到）。这些是垃圾回收引起js执行暂停的时间。在这样的时间花销下，前后端都是没法接受的，因此直接限制堆内存是一个合理的选择。

